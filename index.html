<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>2D Plan to 3D Map</title>
  <style>body { margin: 0; }</style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script>
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0xf0f0f0);

  const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
  camera.position.set(0, 10, 20);

  const renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.target.set(0,0,0);
  controls.update();

  // Lights
  const ambient = new THREE.AmbientLight(0xffffff, 0.6);
  scene.add(ambient);
  const directional = new THREE.DirectionalLight(0xffffff, 0.8);
  directional.position.set(10,20,10);
  scene.add(directional);

  // Floor
  const floorGeometry = new THREE.PlaneGeometry(20,20);
  const floorMaterial = new THREE.MeshPhongMaterial({color:0xdddddd, side:THREE.DoubleSide});
  const floor = new THREE.Mesh(floorGeometry, floorMaterial);
  floor.rotation.x = -Math.PI/2;
  scene.add(floor);

  // Load texture
  const loader = new THREE.TextureLoader();
  loader.load('https://threejs.org/examples/textures/uv_grid_opengl.jpg', (texture)=>{
    const planGeometry = new THREE.PlaneGeometry(10,10);
    const planMaterial = new THREE.MeshBasicMaterial({map:texture, side:THREE.DoubleSide});
    const plan = new THREE.Mesh(planGeometry, planMaterial);
    plan.rotation.x = -Math.PI/2;
    plan.position.y = 0.01;
    scene.add(plan);
  });

  // Walls
  const wallMaterial = new THREE.MeshPhongMaterial({color:0x888888});
  const wallFront = new THREE.Mesh(new THREE.BoxGeometry(10,2,0.2), wallMaterial);
  wallFront.position.set(0,1,5);
  scene.add(wallFront);
  const wallBack = wallFront.clone(); wallBack.position.set(0,1,-5); scene.add(wallBack);
  const wallLeft = new THREE.Mesh(new THREE.BoxGeometry(0.2,2,10), wallMaterial);
  wallLeft.position.set(-5,1,0); scene.add(wallLeft);
  const wallRight = wallLeft.clone(); wallRight.position.set(5,1,0); scene.add(wallRight);

  function animate(){
    requestAnimationFrame(animate);
    renderer.render(scene,camera);
  }
  animate();

  window.addEventListener('resize', ()=>{
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>
</body>
</html>
